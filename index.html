<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„ØºØ§Ø¨Ø© Ø§Ù„ØºØ§Ù…Ø¶Ø©</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #2c5530;
            --secondary: #73a942;
            --accent: #f9e076;
            --light: #f8f9fa;
            --dark: #1a1a2e;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        body {
            background: linear-gradient(135deg, #1a3c1f 0%, #2c5530 100%);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
            padding-bottom: 80px;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 20px 0;
            border-bottom: 2px solid var(--secondary);
            margin-bottom: 25px;
            position: relative;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--accent);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .logo i {
            margin-left: 10px;
            color: var(--secondary);
        }

        .game-title {
            font-size: 1.5rem;
            margin-top: 10px;
            color: #fff;
        }

        .game-area {
            background-color: rgba(26, 58, 32, 0.85);
            border-radius: 20px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            border: 1px solid rgba(115, 169, 66, 0.3);
            min-height: 320px;
            position: relative;
            overflow: hidden;
        }

        .story-container {
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .scene-title {
            color: var(--accent);
            font-size: 1.4rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--secondary);
        }

        .story-text {
            line-height: 1.7;
            font-size: 1.1rem;
            margin-bottom: 25px;
            text-align: justify;
        }

        .character {
            position: absolute;
            bottom: 20px;
            right: 20px;
            width: 80px;
            height: 80px;
            background-color: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            box-shadow: var(--shadow);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .choices-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .choice-btn {
            background-color: var(--secondary);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 18px 20px;
            font-size: 1.1rem;
            text-align: right;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
            overflow: hidden;
        }

        .choice-btn:hover {
            background-color: #5d8f35;
            transform: translateY(-3px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        .choice-btn:active {
            transform: translateY(1px);
        }

        .choice-btn i {
            font-size: 1.2rem;
            margin-left: 10px;
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            background-color: rgba(26, 58, 32, 0.9);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(115, 169, 66, 0.3);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--accent);
        }

        .stat-label {
            font-size: 0.9rem;
            margin-top: 5px;
            color: #ccc;
        }

        .progress-container {
            margin: 25px 0;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .progress-bar {
            height: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--secondary);
            border-radius: 5px;
            width: 30%;
            transition: width 0.5s ease;
        }

        .action-effect {
            position: absolute;
            font-size: 2rem;
            color: var(--accent);
            opacity: 0;
            z-index: 10;
        }

        .inventory {
            background-color: rgba(26, 58, 32, 0.9);
            padding: 15px;
            border-radius: 15px;
            margin-top: 20px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(115, 169, 66, 0.3);
        }

        .inventory-title {
            color: var(--accent);
            margin-bottom: 10px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
        }

        .inventory-title i {
            margin-left: 8px;
        }

        .inventory-items {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .inventory-item {
            background-color: var(--primary);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            border: 1px solid var(--secondary);
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #aaa;
            font-size: 0.9rem;
        }

        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ù„Ù„Ù‡ÙˆØ§ØªÙ */
        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }
            
            .game-area {
                padding: 15px;
                min-height: 300px;
            }
            
            .character {
                width: 60px;
                height: 60px;
                font-size: 2rem;
            }
            
            .choice-btn {
                padding: 16px 18px;
                font-size: 1rem;
            }
            
            .stats-bar {
                padding: 12px;
            }
            
            .stat-value {
                font-size: 1.5rem;
            }
        }

        /* Ø±Ø³ÙˆÙ…ÙŠØ§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
        .tree {
            position: absolute;
            bottom: 0;
            left: 10px;
            font-size: 3rem;
            color: #3a5f40;
            z-index: -1;
        }

        .moon {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 2.5rem;
            color: #f9e076;
            opacity: 0.7;
            animation: pulse 4s infinite alternate;
        }

        @keyframes pulse {
            from { opacity: 0.5; transform: scale(1); }
            to { opacity: 0.9; transform: scale(1.05); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo"><i class="fas fa-gamepad"></i> Ù…ØºØ§Ù…Ø±Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ©</div>
            <div class="game-title">Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„ØºØ§Ø¨Ø© Ø§Ù„ØºØ§Ù…Ø¶Ø©</div>
        </header>

        <div class="stats-bar">
            <div class="stat-item">
                <div class="stat-value" id="health">80</div>
                <div class="stat-label">Ø§Ù„ØµØ­Ø©</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="energy">60</div>
                <div class="stat-label">Ø§Ù„Ø·Ø§Ù‚Ø©</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="points">120</div>
                <div class="stat-label">Ø§Ù„Ù†Ù‚Ø§Ø·</div>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-label">
                <span>ØªÙ‚Ø¯Ù… Ø§Ù„Ù‚ØµØ©</span>
                <span id="progress-percent">30%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>

        <div class="game-area">
            <div class="tree">ğŸŒ²</div>
            <div class="moon">ğŸŒ™</div>
            
            <div class="story-container" id="story-container">
                <h2 class="scene-title" id="scene-title">Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø±Ø­Ù„Ø©</h2>
                <p class="story-text" id="story-text">
                    ØªØ¬Ø¯ Ù†ÙØ³Ùƒ ÙˆØ§Ù‚ÙØ§Ù‹ Ø¹Ù†Ø¯ Ù…Ø¯Ø®Ù„ ØºØ§Ø¨Ø© ÙƒØ«ÙŠÙØ© Ù…Ø¹ Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…Ø³Ø§Ø¡. Ø£Ù…Ø§Ù…Ùƒ Ø«Ù„Ø§Ø«Ø© Ù…Ø³Ø§Ø±Ø§Øª: Ø·Ø±ÙŠÙ‚ Ù…Ø¶ÙŠØ¡ Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†ØŒ Ù…Ø³Ø§Ø± Ù…Ø¹ØªÙ… Ø¥Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø±ØŒ ÙˆØ·Ø±ÙŠÙ‚ Ù…ØªØ¹Ø±Ø¬ ÙŠØªØ¬Ù‡ Ù…Ø¨Ø§Ø´Ø±Ø© Ù†Ø­Ùˆ Ù‚Ù„Ø¨ Ø§Ù„ØºØ§Ø¨Ø©. Ø³Ù…Ø¹Øª Ø¹Ù† ÙƒÙ†Ø² Ù…Ø®Ø¨Ø£ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØºØ§Ø¨Ø©ØŒ ÙˆÙ„ÙƒÙ†Ùƒ Ø³Ù…Ø¹Øª Ø£ÙŠØ¶Ø§Ù‹ Ø¹Ù† Ù…Ø®Ø§Ø·Ø±Ù‡Ø§. Ù…Ø§Ø°Ø§ Ø³ØªÙØ¹Ù„ØŸ
                </p>
            </div>

            <div class="character" id="character">
                ğŸ§™â€â™‚ï¸
            </div>
        </div>

        <div class="choices-container" id="choices-container">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… JavaScript -->
        </div>

        <div class="inventory">
            <div class="inventory-title"><i class="fas fa-backpack"></i> Ø§Ù„Ù…Ø¹Ø¯Ø§Øª</div>
            <div class="inventory-items" id="inventory-items">
                <div class="inventory-item">ğŸ”¦ Ù…ØµØ¨Ø§Ø­</div>
                <div class="inventory-item">ğŸ—ºï¸ Ø®Ø±ÙŠØ·Ø©</div>
                <div class="inventory-item">ğŸ— Ø·Ø¹Ø§Ù…</div>
            </div>
        </div>

        <div class="footer">
            <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2023 | Ù„Ø¹Ø¨Ø© Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„ØºØ§Ø¨Ø© Ø§Ù„ØºØ§Ù…Ø¶Ø©</p>
            <p>ØµÙ…Ù…Øª Ø®ØµÙŠØµØ§Ù‹ Ù„Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ø°ÙƒÙŠØ©</p>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚ØµØ© ÙˆØ§Ù„Ø®ÙŠØ§Ø±Ø§Øª
        const storyData = {
            start: {
                title: "Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø±Ø­Ù„Ø©",
                text: "ØªØ¬Ø¯ Ù†ÙØ³Ùƒ ÙˆØ§Ù‚ÙØ§Ù‹ Ø¹Ù†Ø¯ Ù…Ø¯Ø®Ù„ ØºØ§Ø¨Ø© ÙƒØ«ÙŠÙØ© Ù…Ø¹ Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…Ø³Ø§Ø¡. Ø£Ù…Ø§Ù…Ùƒ Ø«Ù„Ø§Ø«Ø© Ù…Ø³Ø§Ø±Ø§Øª: Ø·Ø±ÙŠÙ‚ Ù…Ø¶ÙŠØ¡ Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†ØŒ Ù…Ø³Ø§Ø± Ù…Ø¹ØªÙ… Ø¥Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø±ØŒ ÙˆØ·Ø±ÙŠÙ‚ Ù…ØªØ¹Ø±Ø¬ ÙŠØªØ¬Ù‡ Ù…Ø¨Ø§Ø´Ø±Ø© Ù†Ø­Ùˆ Ù‚Ù„Ø¨ Ø§Ù„ØºØ§Ø¨Ø©. Ø³Ù…Ø¹Øª Ø¹Ù† ÙƒÙ†Ø² Ù…Ø®Ø¨Ø£ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØºØ§Ø¨Ø©ØŒ ÙˆÙ„ÙƒÙ†Ùƒ Ø³Ù…Ø¹Øª Ø£ÙŠØ¶Ø§Ù‹ Ø¹Ù† Ù…Ø®Ø§Ø·Ø±Ù‡Ø§. Ù…Ø§Ø°Ø§ Ø³ØªÙØ¹Ù„ØŸ",
                choices: [
                    {
                        text: "Ø£Ø³Ù„Ùƒ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù…Ø¶ÙŠØ¡ Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†",
                        next: "rightPath",
                        effect: { energy: -10, points: 20 }
                    },
                    {
                        text: "Ø£Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø¹ØªÙ… Ø¥Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø±",
                        next: "leftPath",
                        effect: { health: -15, energy: -5, points: 30 }
                    },
                    {
                        text: "Ø£ØªØ¨Ø¹ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù…ØªØ¹Ø±Ø¬ Ø¥Ù„Ù‰ Ù‚Ù„Ø¨ Ø§Ù„ØºØ§Ø¨Ø©",
                        next: "centerPath",
                        effect: { energy: -20, points: 40 }
                    }
                ],
                character: "ğŸ§™â€â™‚ï¸"
            },
            rightPath: {
                title: "Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù…Ø¶ÙŠØ¡",
                text: "ØªÙ…Ø´ÙŠ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù…Ø¶ÙŠØ¡ ÙˆØªÙƒØªØ´Ù Ø£Ù†Ù‡ Ù…Ø¶Ø§Ø¡ Ø¨Ù…ØµØ§Ø¨ÙŠØ­ Ø­Ø¬Ø±ÙŠØ© ØºØ±ÙŠØ¨Ø© ØªØ´Ø¹ Ø¨Ù†ÙˆØ± Ø®Ø§ÙØª. Ø¨Ø¹Ø¯ Ù…Ø³Ø§ÙØ©ØŒ ØªØ±Ù‰ Ù…Ø¨Ù†Ù‰ Ù‚Ø¯ÙŠÙ…Ø§Ù‹ Ù†ØµÙ Ù…Ø¯Ù…Ø±. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø£Ùˆ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
                choices: [
                    {
                        text: "Ø£Ø³ØªÙƒØ´Ù Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ù‚Ø¯ÙŠÙ…",
                        next: "oldBuilding",
                        effect: { health: -5, energy: -10, points: 50 }
                    },
                    {
                        text: "Ø£Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø³ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚",
                        next: "continuePath",
                        effect: { energy: -15, points: 30 }
                    },
                    {
                        text: "Ø£Ø¹ÙˆØ¯ Ø¥Ù„Ù‰ Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©",
                        next: "start",
                        effect: { energy: -10, points: 10 }
                    }
                ],
                character: "ğŸš¶"
            },
            leftPath: {
                title: "Ø§Ù„Ù…Ø¹Ø¨Ø± Ø§Ù„Ù…Ø¸Ù„Ù…",
                text: "Ø¯Ø®Ù„Øª Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø¹ØªÙ… Ø­ÙŠØ« Ø§Ù„Ø£Ø´Ø¬Ø§Ø± Ø§Ù„ÙƒØ«ÙŠÙØ© ØªØ­Ø¬Ø¨ Ø¶ÙˆØ¡ Ø§Ù„Ù‚Ù…Ø±. ØªØ³Ù…Ø¹ ØµÙˆØª Ø°Ø¦Ø§Ø¨ ÙÙŠ Ø§Ù„Ø¨Ø¹ÙŠØ¯. ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ³Ù„Ù„ Ø¨Ù‡Ø¯ÙˆØ¡ Ø£Ùˆ ØªØ´ØºÙŠÙ„ Ù…ØµØ¨Ø§Ø­Ùƒ Ù„Ø¥Ø¶Ø§Ø¡Ø© Ø§Ù„Ø·Ø±ÙŠÙ‚.",
                choices: [
                    {
                        text: "Ø£ØªØ³Ù„Ù„ Ø¨Ù‡Ø¯ÙˆØ¡ ÙÙŠ Ø§Ù„Ø¸Ù„Ø§Ù…",
                        next: "sneakDark",
                        effect: { health: -20, energy: -15, points: 60 }
                    },
                    {
                        text: "Ø£Ø´Ø¹Ù„ Ù…ØµØ¨Ø§Ø­ÙŠ Ù„Ø£Ø±Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚",
                        next: "useFlashlight",
                        effect: { energy: -10, points: 40 }
                    },
                    {
                        text: "Ø£Ø¹ÙˆØ¯ Ø£Ø¯Ø±Ø§Ø¬ÙŠ Ø¨Ø³Ø±Ø¹Ø©",
                        next: "start",
                        effect: { energy: -5, points: 10 }
                    }
                ],
                character: "ğŸº"
            },
            centerPath: {
                title: "Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù…ØªØ¹Ø±Ø¬",
                text: "ØªØ¨Ø¯Ø£ Ø¨Ø§Ù„Ø³ÙŠØ± ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù…ØªØ¹Ø±Ø¬ Ø§Ù„Ø°ÙŠ ÙŠÙ‚ÙˆØ¯Ùƒ Ø¥Ù„Ù‰ Ø£Ø¹Ù„Ù‰ ØªÙ„. ØªØµÙ„ Ø¥Ù„Ù‰ Ù‚Ù…Ø© Ø§Ù„ØªÙ„ ÙˆØªØ±Ù‰ Ù…Ù†Ø¸Ø±Ø§Ù‹ Ù…Ø°Ù‡Ù„Ø§Ù‹ Ù„Ù„ØºØ§Ø¨Ø© ØªØ­Øª Ø¶ÙˆØ¡ Ø§Ù„Ù‚Ù…Ø±. ØªØ±Ù‰ Ø£ÙŠØ¶Ø§Ù‹ Ù†Ù‡Ø±Ø§Ù‹ Ù…ØªÙ„Ø£Ù„Ø¦Ø§Ù‹ ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù†Ø²ÙˆÙ„ Ù†Ø­Ùˆ Ø§Ù„Ù†Ù‡Ø± Ø£Ùˆ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø£ÙˆÙ‰ Ù„ÙŠÙ„Ø§Ù‹.",
                choices: [
                    {
                        text: "Ø£Ù†Ø²Ù„ Ù†Ø­Ùˆ Ø§Ù„Ù†Ù‡Ø± Ø§Ù„Ù…ØªÙ„Ø£Ù„Ø¦",
                        next: "river",
                        effect: { health: 10, energy: -5, points: 40 }
                    },
                    {
                        text: "Ø£Ø¨Ø­Ø« Ø¹Ù† Ù…Ø£ÙˆÙ‰ Ù„Ø¨Ù‚ÙŠØ© Ø§Ù„Ù„ÙŠÙ„",
                        next: "shelter",
                        effect: { energy: 10, points: 30 }
                    },
                    {
                        text: "Ø£Ø¹ÙˆØ¯ Ù„Ù„Ø®Ù„Ù ÙˆØ£Ø¨Ø­Ø« Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø¢Ø®Ø±",
                        next: "start",
                        effect: { energy: -15, points: 15 }
                    }
                ],
                character: "ğŸ”ï¸"
            },
            oldBuilding: {
                title: "Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ù‚Ø¯ÙŠÙ…",
                text: "Ø¯Ø®Ù„Øª Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ù‚Ø¯ÙŠÙ… ÙˆØªØ¬Ø¯ Ø¯Ø§Ø®Ù„Ù‡ ØºØ±ÙØ© Ù…Ù„ÙŠØ¦Ø© Ø¨Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© ÙˆØ£Ø¯ÙˆØ§Øª ØºØ±ÙŠØ¨Ø©. Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø§ÙˆÙ„Ø© ØªØ±Ù‰ ØµÙ†Ø¯ÙˆÙ‚Ø§Ù‹ Ù…ØºÙ„Ù‚Ø§Ù‹. ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø­Ø§ÙˆÙ„Ø© ÙØªØ­ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø£Ùˆ Ø£Ø®Ø° Ø¨Ø¹Ø¶ Ø§Ù„ÙƒØªØ¨ Ø£Ùˆ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ø³Ø±Ø¹Ø©.",
                choices: [
                    {
                        text: "Ø£Ø­Ø§ÙˆÙ„ ÙØªØ­ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚",
                        next: "openChest",
                        effect: { health: -10, points: 80 }
                    },
                    {
                        text: "Ø¢Ø®Ø° Ø¨Ø¹Ø¶ Ø§Ù„ÙƒØªØ¨ Ø§Ù„ØºØ±ÙŠØ¨Ø©",
                        next: "takeBooks",
                        effect: { points: 60 }
                    },
                    {
                        text: "Ø£Ø®Ø±Ø¬ Ø¨Ø³Ø±Ø¹Ø© Ù‚Ø¨Ù„ Ø£Ù† ÙŠØ­Ù„ Ø§Ù„Ø¸Ù„Ø§Ù…",
                        next: "rightPath",
                        effect: { energy: -5, points: 20 }
                    }
                ],
                character: "ğŸšï¸"
            }
        };

        // Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        const gameState = {
            currentScene: "start",
            health: 80,
            energy: 60,
            points: 120,
            inventory: ["ğŸ”¦ Ù…ØµØ¨Ø§Ø­", "ğŸ—ºï¸ Ø®Ø±ÙŠØ·Ø©", "ğŸ— Ø·Ø¹Ø§Ù…"],
            progress: 30
        };

        // Ø¹Ù†Ø§ØµØ± DOM
        const sceneTitleElement = document.getElementById('scene-title');
        const storyTextElement = document.getElementById('story-text');
        const choicesContainerElement = document.getElementById('choices-container');
        const characterElement = document.getElementById('character');
        const healthElement = document.getElementById('health');
        const energyElement = document.getElementById('energy');
        const pointsElement = document.getElementById('points');
        const progressFillElement = document.getElementById('progress-fill');
        const progressPercentElement = document.getElementById('progress-percent');
        const inventoryItemsElement = document.getElementById('inventory-items');

        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function updateGame() {
            const scene = storyData[gameState.currentScene];
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚ØµØ© ÙˆØ§Ù„Ø´Ø®ØµÙŠØ©
            sceneTitleElement.textContent = scene.title;
            storyTextElement.textContent = scene.text;
            characterElement.textContent = scene.character;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            healthElement.textContent = gameState.health;
            energyElement.textContent = gameState.energy;
            pointsElement.textContent = gameState.points;
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
            progressFillElement.style.width = `${gameState.progress}%`;
            progressPercentElement.textContent = `${gameState.progress}%`;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø¯Ø§Øª
            updateInventory();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            updateChoices(scene.choices);
            
            // ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ©
            animateSceneChange();
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¹Ø¯Ø§Øª
        function updateInventory() {
            inventoryItemsElement.innerHTML = '';
            gameState.inventory.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.className = 'inventory-item';
                itemElement.textContent = item;
                inventoryItemsElement.appendChild(itemElement);
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨
        function updateChoices(choices) {
            choicesContainerElement.innerHTML = '';
            
            choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice-btn';
                button.innerHTML = `
                    ${choice.text}
                    <i class="fas fa-arrow-left"></i>
                `;
                
                // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø±
                button.addEventListener('click', () => {
                    makeChoice(choice);
                    animateButtonClick(button);
                });
                
                choicesContainerElement.appendChild(button);
                
                // ØªØ£Ø«ÙŠØ± Ø¸Ù‡ÙˆØ± Ù…ØªØªØ§Ø¨Ø¹ Ù„Ù„Ø£Ø²Ø±Ø§Ø±
                setTimeout(() => {
                    button.style.opacity = '0';
                    button.style.transform = 'translateY(10px)';
                    button.style.transition = 'opacity 0.5s, transform 0.5s';
                    
                    setTimeout(() => {
                        button.style.opacity = '1';
                        button.style.transform = 'translateY(0)';
                    }, 50);
                }, index * 100);
            });
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„Ø§Ø¹Ø¨
        function makeChoice(choice) {
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªØ£Ø«ÙŠØ± Ø§Ù„Ø®ÙŠØ§Ø±
            if (choice.effect.health) {
                gameState.health += choice.effect.health;
                createEffectAnimation(choice.effect.health > 0 ? 'â¤ï¸' : 'ğŸ’”', choice.effect.health);
            }
            if (choice.effect.energy) {
                gameState.energy += choice.effect.energy;
                createEffectAnimation(choice.effect.energy > 0 ? 'âš¡' : 'ğŸ˜´', choice.effect.energy);
            }
            if (choice.effect.points) {
                gameState.points += choice.effect.points;
                createEffectAnimation('â­', choice.effect.points);
            }
            
            // ØªØ­Ø¯ÙŠØ« ØªÙ‚Ø¯Ù… Ø§Ù„Ù‚ØµØ©
            gameState.progress = Math.min(gameState.progress + 10, 100);
            
            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„ØªØ§Ù„ÙŠ
            gameState.currentScene = choice.next;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            setTimeout(updateGame, 500);
            
            // Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø¬Ø¯ÙŠØ¯ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø£Ø­ÙŠØ§Ù†Ø§Ù‹
            if (Math.random() > 0.7 && gameState.inventory.length < 6) {
                const newItems = ['âš”ï¸ Ø³ÙŠÙ', 'ğŸ›¡ï¸ Ø¯Ø±Ø¹', 'ğŸ§ª Ø¬Ø±Ø¹Ø©', 'ğŸ”® ÙƒØ±Ø© Ø¨Ù„ÙˆØ±ÙŠØ©', 'ğŸ’° Ø¹Ù…Ù„Ø§Øª Ø°Ù‡Ø¨ÙŠØ©'];
                const randomItem = newItems[Math.floor(Math.random() * newItems.length)];
                if (!gameState.inventory.includes(randomItem)) {
                    gameState.inventory.push(randomItem);
                }
            }
            
            // ÙØ­Øµ Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø© (Ø§Ù„ØµØ­Ø© Ø£Ùˆ Ø§Ù„Ø·Ø§Ù‚Ø© Ù…Ù†Ø®ÙØ¶Ø© Ø¬Ø¯Ø§Ù‹)
            checkGameOver();
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function checkGameOver() {
            if (gameState.health <= 0 || gameState.energy <= 0) {
                setTimeout(() => {
                    alert(gameState.health <= 0 ? 
                        "Ù„Ù‚Ø¯ Ù†ÙØ°Øª ØµØ­ØªÙƒ! Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©." : 
                        "Ù„Ù‚Ø¯ Ù†ÙØ°Øª Ø·Ø§Ù‚ØªÙƒ! Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©.");
                    resetGame();
                }, 1000);
            }
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø©
        function resetGame() {
            gameState.currentScene = "start";
            gameState.health = 80;
            gameState.energy = 60;
            gameState.points = 120;
            gameState.inventory = ["ğŸ”¦ Ù…ØµØ¨Ø§Ø­", "ğŸ—ºï¸ Ø®Ø±ÙŠØ·Ø©", "ğŸ— Ø·Ø¹Ø§Ù…"];
            gameState.progress = 30;
            updateGame();
        }

        // ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø­Ø±ÙƒØ© Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø´Ù‡Ø¯
        function animateSceneChange() {
            const storyContainer = document.querySelector('.story-container');
            storyContainer.style.animation = 'none';
            setTimeout(() => {
                storyContainer.style.animation = 'fadeIn 0.8s ease-out';
            }, 10);
            
            // ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹
            document.body.style.transition = 'background 1s ease';
            const colors = [
                'linear-gradient(135deg, #1a3c1f 0%, #2c5530 100%)',
                'linear-gradient(135deg, #1a2b3c 0%, #2c3e50 100%)',
                'linear-gradient(135deg, #3c1a3c 0%, #553055 100%)'
            ];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            document.body.style.background = randomColor;
        }

        // ØªØ£Ø«ÙŠØ±Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
        function animateButtonClick(button) {
            button.style.transform = 'scale(0.95)';
            button.style.transition = 'transform 0.1s';
            
            setTimeout(() => {
                button.style.transform = 'scale(1)';
            }, 100);
        }

        // Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ© Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        function createEffectAnimation(emoji, value) {
            const effect = document.createElement('div');
            effect.className = 'action-effect';
            effect.textContent = `${emoji} ${value > 0 ? '+' : ''}${value}`;
            effect.style.left = `${Math.random() * 80 + 10}%`;
            effect.style.top = `${Math.random() * 50 + 25}%`;
            
            document.querySelector('.game-area').appendChild(effect);
            
            // Ø­Ø±ÙƒØ© Ø§Ù„ØªØ£Ø«ÙŠØ±
            let opacity = 1;
            let posY = 0;
            const animation = setInterval(() => {
                opacity -= 0.02;
                posY -= 2;
                
                effect.style.opacity = opacity;
                effect.style.transform = `translateY(${posY}px)`;
                
                if (opacity <= 0) {
                    clearInterval(animation);
                    effect.remove();
                }
            }, 20);
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        document.addEventListener('DOMContentLoaded', () => {
            updateGame();
            
            // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø´Ø®ØµÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø±
            characterElement.addEventListener('click', () => {
                characterElement.style.transform = 'scale(1.2)';
                characterElement.style.transition = 'transform 0.2s';
                
                setTimeout(() => {
                    characterElement.style.transform = 'scale(1)';
                }, 200);
                
                // ØªØ£Ø«ÙŠØ± ØµÙˆØªÙŠ (Ù…Ø­Ø§ÙƒØ§Ø©)
                createEffectAnimation('âœ¨', 5);
                gameState.points += 5;
                pointsElement.textContent = gameState.points;
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø¹Ù†Ø§ØµØ± Ø±Ø³ÙˆÙ…ÙŠØ© Ù…ØªØ­Ø±ÙƒØ©
            createAnimatedElements();
        });

        // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ØµØ± Ø±Ø³ÙˆÙ…ÙŠØ© Ù…ØªØ­Ø±ÙƒØ©
        function createAnimatedElements() {
            const gameArea = document.querySelector('.game-area');
            
            // Ø¥Ø¶Ø§ÙØ© Ù†Ø¬ÙˆÙ… Ù…ØªØ­Ø±ÙƒØ©
            for (let i = 0; i < 8; i++) {
                const star = document.createElement('div');
                star.style.position = 'absolute';
                star.style.fontSize = `${Math.random() * 20 + 10}px`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.opacity = '0.3';
                star.textContent = 'âœ¨';
                star.style.animation = `pulse ${Math.random() * 3 + 2}s infinite alternate`;
                gameArea.appendChild(star);
            }
        }
    </script>
</body>
</html>
